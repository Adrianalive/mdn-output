{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Clipboard.read()","mdn_url":"/en-US/docs/Web/API/Clipboard/read","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Clipboard_API\">Clipboard API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/Clipboard\"><code>Clipboard</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><em><code>read()</code></em></li><li><a href=\"/en-US/docs/Web/API/Clipboard/readText\"><code>readText()</code></a></li><li><a href=\"/en-US/docs/Web/API/Clipboard/write\"><code>write()</code></a></li><li><a href=\"/en-US/docs/Web/API/Clipboard/writeText\"><code>writeText()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Clipboard API</summary><ol><li><a href=\"/en-US/docs/Web/API/ClipboardEvent\"><code>ClipboardEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/ClipboardItem\"><code>ClipboardItem</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/clipboard\"><code>Navigator.clipboard</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The <strong><code>read()</code></strong> method of the\n  <a href=\"/en-US/docs/Web/API/Clipboard\"><code>Clipboard</code></a> interface requests a copy of the clipboard's contents,\n  delivering the data to the returned <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> when the promise is\n  resolved. Unlike <a href=\"/en-US/docs/Web/API/Clipboard/readText\" title=\"readText()\"><code>readText()</code></a>, the\n  <code>read()</code> method can return arbitrary data, such as images. This method can\n  also return text.\n</p>\n<p>\n  To read from the clipboard, you must first have the <code>\"clipboard-read\"</code>\n  permission.\n</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p>\n    <strong>Note:</strong> The asynchronous Clipboard and <a href=\"/en-US/docs/Web/API/Permissions_API\">Permissions APIs</a> are still in the\n    process of being integrated into most browsers, so they often deviate from the\n    official rules for permissions and the like. Be sure to review the <a href=\"#browser_compatibility\">compatibility table</a> before using these methods.\n  </p>\n</div>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> promise <span class=\"token operator\">=</span> navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<p>None.</p>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves with a sequence of <a href=\"/en-US/docs/Web/API/ClipboardItem\"><code>ClipboardItem</code></a> objects\n  containing the clipboard's contents. The promise is rejected if permission to access the\n  clipboard is not granted.\n</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<p>\n  After using <a href=\"/en-US/docs/Web/API/Permissions/query\" title=\"navigator.permissions.query()\"><code>navigator.permissions.query()</code></a> to find\n  out if we have (or if the user will be prompted to allow) <code>\"clipboard-read\"</code>\n  access, this example fetches the data currently on the clipboard. If it's not a png\n  image, an error message is presented. Otherwise, an image element referred to using the\n  variable <code>imgElem</code> has its source replaced with the clipboard's contents.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// First, ask the Permissions API if we have some kind of access to</span>\n<span class=\"token comment\">// the \"clipboard-read\" feature.</span>\n\nnavigator<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"clipboard-read\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// If permission to read the clipboard is granted or if the user will</span>\n    <span class=\"token comment\">// be prompted to allow it, we proceed.</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>state <span class=\"token operator\">==</span> <span class=\"token string\">\"granted\"</span> <span class=\"token operator\">||</span> result<span class=\"token punctuation\">.</span>state <span class=\"token operator\">==</span> <span class=\"token string\">\"prompt\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> data<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>data<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>types<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image/png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Clipboard contains non-image data. Unable to access it.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            data<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image/png\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">blob</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n              imgElem<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect2\">\n  <p>\n    <strong>Note:</strong> At this time, while Firefox does implement\n    <code>read()</code>, it does not recognize the <code>\"clipboard-read\"</code>\n    permission, so attempting to use the <a href=\"/en-US/docs/Web/API/Permissions_API\">Permissions API</a> to manage access to\n    the API will not work.\n  </p>\n</div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/clipboard-apis/#dom-clipboard-read","title":"Clipboard API and events"}],"query":"api.Clipboard.read"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Clipboard.read","dataURL":"/en-US/docs/Web/API/Clipboard/read/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Clipboard_API\">Clipboard API</a></li>\n  <li><a href=\"https://async-clipboard-api.glitch.me/\" class=\"external\" rel=\" noopener\">Async Clipboard API demo on\nGlitch</a></li>\n  <li><a href=\"https://web.dev/image-support-for-async-clipboard/\" class=\"external\" rel=\" noopener\">Image support for Async\nClipboard article</a></li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Example","id":"example"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The read() method of the\n  Clipboard interface requests a copy of the clipboard's contents,\n  delivering the data to the returned Promise when the promise is\n  resolved. Unlike readText(), the\n  read() method can return arbitrary data, such as images. This method can\n  also return text.","popularity":0.0027,"modified":"2022-03-14T00:26:56.000Z","other_translations":[{"title":"Clipboard.read()","locale":"ja","native":"日本語"},{"title":"Clipboard.read()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/clipboard/read","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/clipboard/read/index.md","last_commit_url":"https://github.com/mdn/content/commit/672bace59f60c4931e5cdde8eb32919c924bd191","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Clipboard","title":"Clipboard"},{"uri":"/en-US/docs/Web/API/Clipboard/read","title":"Clipboard.read()"}],"pageTitle":"Clipboard.read() - Web APIs | MDN","noIndexing":false}}