{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"MediaSession","mdn_url":"/en-US/docs/Web/API/MediaSession","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Media_Session_API\">Media Session API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/MediaSession\"><code>MediaSession</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaSession/metadata\"><code>metadata</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaSession/playbackState\"><code>playbackState</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaSession/setActionHandler\"><code>setActionHandler()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaSession/setPositionState\"><code>setPositionState()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Media Session API</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaMetadata\"><code>MediaMetadata</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/mediaSession\"><code>navigator.mediaSession</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Guidelines/Conventions_definitions#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>The <strong><code>MediaSession</code></strong> interface of the <a href=\"/en-US/docs/Web/API/Media_Session_API\">Media Session API</a> allows a web page to provide custom behaviors for standard media playback interactions, and to report metadata that can be sent by the user agent to the device or operating system for presentation in standardized user interface elements.</p>\n<p>For example, a smartphone might have a standard panel in its lock screen that provides controls for media playback and information display. A browser on the device can use <code>MediaSession</code> to make browser playback controllable from that standard/global user interface.</p>"}},{"type":"prose","value":{"id":"properties","title":"Properties","isH3":false,"content":"<dl>\n  <dt id=\"metadata\"><a href=\"/en-US/docs/Web/API/MediaSession/metadata\" title=\"metadata\"><code>metadata</code></a></dt>\n  <dd>\n    <p>Returns an instance of <a href=\"/en-US/docs/Web/API/MediaMetadata\"><code>MediaMetadata</code></a>, which contains rich media metadata for display in a platform UI.</p>\n  </dd>\n  <dt id=\"playbackstate\"><a href=\"/en-US/docs/Web/API/MediaSession/playbackState\" title=\"playbackState\"><code>playbackState</code></a></dt>\n  <dd>\n    <p>Indicates whether the current media session is playing. Valid values are <code>none</code>, <code>paused</code>, or <code>playing</code>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"methods","title":"Methods","isH3":false,"content":"<dl>\n  <dt id=\"setactionhandler\"><a href=\"/en-US/docs/Web/API/MediaSession/setActionHandler\" title=\"setActionHandler()\"><code>setActionHandler()</code></a></dt>\n  <dd>\n    <p>Sets an action handler for a media session action, such as play or pause.</p>\n  </dd>\n  <dt id=\"setpositionstate\"><a href=\"/en-US/docs/Web/API/MediaSession/setPositionState\" title=\"setPositionState()\"><code>setPositionState()</code></a></dt>\n  <dd>\n    <p>Sets the current playback position and speed of the media currently being presented.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>The following example creates a new media session and assigns action handlers to it:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'mediaSession'</span> <span class=\"token keyword\">in</span> navigator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span>metadata <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MediaMetadata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Unforgettable'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">artist</span><span class=\"token operator\">:</span> <span class=\"token string\">'Nat King Cole'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">album</span><span class=\"token operator\">:</span> <span class=\"token string\">'The Ultimate Collection (Remastered)'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">artwork</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/96x96'</span><span class=\"token punctuation\">,</span>   <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'96x96'</span><span class=\"token punctuation\">,</span>   <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/128x128'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'128x128'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/192x192'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'192x192'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/256x256'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'256x256'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/384x384'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'384x384'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/512x512'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'512x512'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'play'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stop'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekbackward'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekforward'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekto'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'previoustrack'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nexttrack'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'skipad'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The following example sets up two functions for playing and pausing, then uses them as callbacks with the relevant action handlers.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> actionHandlers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// play</span>\n  <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'play'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// play our audio</span>\n      <span class=\"token keyword\">await</span> audioEl<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// set playback state</span>\n      navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span>playbackState <span class=\"token operator\">=</span> <span class=\"token string\">\"playing\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// update our status element</span>\n      <span class=\"token function\">updateStatus</span><span class=\"token punctuation\">(</span>allMeta<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Action: play  |  Track is playing...'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// pause out audio</span>\n      audioEl<span class=\"token punctuation\">.</span><span class=\"token function\">pause</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// set playback state</span>\n      navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span>playbackState <span class=\"token operator\">=</span> <span class=\"token string\">\"paused\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// update our status element</span>\n      <span class=\"token function\">updateStatus</span><span class=\"token punctuation\">(</span>allMeta<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Action: pause  |  Track has been paused...'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>action<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> actionHandlers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The media session action \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" is not supported yet.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/mediasession/#the-mediasession-interface","title":"Media Session Standard"}],"query":"api.MediaSession"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.MediaSession","dataURL":"/en-US/docs/Web/API/MediaSession/bcd.json"}}],"toc":[{"text":"Properties","id":"properties"},{"text":"Methods","id":"methods"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The MediaSession interface of the Media Session API allows a web page to provide custom behaviors for standard media playback interactions, and to report metadata that can be sent by the user agent to the device or operating system for presentation in standardized user interface elements.","popularity":0.0011,"modified":"2022-02-18T09:24:31.000Z","other_translations":[{"title":"MediaSession","locale":"ja","native":"日本語"},{"title":"MediaSession","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/mediasession","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/mediasession/index.md","last_commit_url":"https://github.com/mdn/content/commit/89c8199b06e7fb2b76da4087cb9eedef065b2506","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/MediaSession","title":"MediaSession"}],"pageTitle":"MediaSession - Web APIs | MDN","noIndexing":false}}