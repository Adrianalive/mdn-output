{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"SubtleCrypto.generateKey()","mdn_url":"/en-US/docs/Web/API/SubtleCrypto/generateKey","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Web_Crypto_API\">Web Crypto API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/SubtleCrypto\"><code>SubtleCrypto</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/decrypt\"><code>decrypt()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/deriveBits\"><code>deriveBits()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/deriveKey\"><code>deriveKey()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/digest\"><code>digest()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt\"><code>encrypt()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/exportKey\"><code>exportKey()</code></a></li><li><em><code>generateKey()</code></em></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/importKey\"><code>importKey()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/sign\"><code>sign()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/unwrapKey\"><code>unwrapKey()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/verify\"><code>verify()</code></a></li><li><a href=\"/en-US/docs/Web/API/SubtleCrypto/wrapKey\"><code>wrapKey()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Web Crypto API</summary><ol><li><a href=\"/en-US/docs/Web/API/Crypto\"><code>Crypto</code></a></li><li><a href=\"/en-US/docs/Web/API/CryptoKey\"><code>CryptoKey</code></a></li><li><a href=\"/en-US/docs/Web/API/crypto_property\"><code>Window.crypto</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>\n  Use the <strong><code>generateKey()</code></strong> method of the\n  <a href=\"/en-US/docs/Web/API/SubtleCrypto\"><code>SubtleCrypto</code></a> interface to generate a new key (for symmetric algorithms)\n  or key pair (for public-key algorithms).\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">generateKey</span><span class=\"token punctuation\">(</span>algorithm<span class=\"token punctuation\">,</span> extractable<span class=\"token punctuation\">,</span> keyUsages<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<ul>\n  <li>\n    <em><code>algorithm</code></em> is a dictionary object defining the type of key to\n    generate and providing extra algorithm-specific parameters.\n    <ul>\n      <li>\n        For <a href=\"/en-US/docs/Web/API/SubtleCrypto/sign#rsassa-pkcs1-v1_5\">RSASSA-PKCS1-v1_5</a>, <a href=\"/en-US/docs/Web/API/SubtleCrypto/sign#rsa-pss\">RSA-PSS</a>, or <a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt#rsa-oaep\">RSA-OAEP</a>: pass an\n        <a href=\"/en-US/docs/Web/API/RsaHashedKeyGenParams\"><code>RsaHashedKeyGenParams</code></a>\n        object.\n      </li>\n      <li>\n        For <a href=\"/en-US/docs/Web/API/SubtleCrypto/sign#ecdsa\">ECDSA</a> or <a href=\"/en-US/docs/Web/API/SubtleCrypto/deriveKey#ecdh\">ECDH</a>: pass\n        an <a href=\"/en-US/docs/Web/API/EcKeyGenParams\"><code>EcKeyGenParams</code></a>\n        object.\n      </li>\n      <li>\n        For <a href=\"/en-US/docs/Web/API/SubtleCrypto/sign#hmac\">HMAC</a>: pass an\n        <a href=\"/en-US/docs/Web/API/HmacKeyGenParams\"><code>HmacKeyGenParams</code></a>\n        object.\n      </li>\n      <li>\n        For <a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt#aes-ctr\">AES-CTR</a>, <a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt#aes-cbc\">AES-CBC</a>, <a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt#aes-gcm\">AES-GCM</a>, or <a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt#aes-kw\">AES-KW</a>: pass an\n        <a href=\"/en-US/docs/Web/API/AesKeyGenParams\"><code>AesKeyGenParams</code></a>\n        object.\n      </li>\n    </ul>\n  </li>\n  <li>\n    <code>extractable</code> is a boolean value indicating whether it\n    will be possible to export the key using <a href=\"/en-US/docs/Web/API/SubtleCrypto/exportKey\"><code>SubtleCrypto.exportKey()</code></a> or\n    <a href=\"/en-US/docs/Web/API/SubtleCrypto/wrapKey\"><code>SubtleCrypto.wrapKey()</code></a>.\n  </li>\n  <li>\n    <code>keyUsages</code> is an <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\"><code>Array</code></a> indicating what can be\n    done with the newly generated key. Possible values for array elements are:\n    <ul>\n      <li><code>encrypt</code>: The key may be used to <a href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt\" title=\"encrypt\"><code>encrypt</code></a> messages.</li>\n      <li><code>decrypt</code>: The key may be used to <a href=\"/en-US/docs/Web/API/SubtleCrypto/decrypt\" title=\"decrypt\"><code>decrypt</code></a> messages.</li>\n      <li><code>sign</code>: The key may be used to <a href=\"/en-US/docs/Web/API/SubtleCrypto/sign\" title=\"sign\"><code>sign</code></a> messages.</li>\n      <li><code>verify</code>: The key may be used to <a href=\"/en-US/docs/Web/API/SubtleCrypto/verify\" title=\"verify\"><code>verify</code></a> signatures.</li>\n      <li>\n        <code>deriveKey</code>: The key may be used in\n        <a href=\"/en-US/docs/Web/API/SubtleCrypto/deriveKey\" title=\"deriving a new key\"><code>deriving a new key</code></a>.\n      </li>\n      <li>\n        <code>deriveBits</code>: The key may be used in\n        <a href=\"/en-US/docs/Web/API/SubtleCrypto/deriveBits\" title=\"deriving bits\"><code>deriving bits</code></a>.\n      </li>\n      <li><code>wrapKey</code>: The key may be used to <a href=\"/en-US/docs/Web/API/SubtleCrypto/wrapKey\" title=\"wrap a key\"><code>wrap a key</code></a>.</li>\n      <li>\n        <code>unwrapKey</code>: The key may be used to\n        <a href=\"/en-US/docs/Web/API/SubtleCrypto/unwrapKey\" title=\"unwrap a key\"><code>unwrap a key</code></a>.\n      </li>\n    </ul>\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<ul>\n  <li>\n    <code>result</code> is a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that fulfills with a\n    <a href=\"/en-US/docs/Web/API/CryptoKey\"><code>CryptoKey</code></a> (for symmetric algorithms) or a <a href=\"/en-US/docs/Web/API/CryptoKeyPair\"><code>CryptoKeyPair</code></a>\n    (for public-key algorithms).\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<p>The promise is rejected when the following exception is encountered:</p>\n<dl>\n  <dt id=\"syntaxerror\"><a href=\"/en-US/docs/Web/API/DOMException#exception-syntaxerror\"><code>SyntaxError</code></a></dt>\n  <dd>\n    <p>\n      Raised when the result is a <a href=\"/en-US/docs/Web/API/CryptoKey\"><code>CryptoKey</code></a> of type <code>secret</code> or\n      <code>private</code> but <em><code>keyUsages</code></em> is empty.\n    </p>\n  </dd>\n  <dt id=\"syntaxerror_2\"><a href=\"/en-US/docs/Web/API/DOMException#exception-syntaxerror\"><code>SyntaxError</code></a></dt>\n  <dd>\n    <p>\n      Raised when the result is a <a href=\"/en-US/docs/Web/API/CryptoKeyPair\"><code>CryptoKeyPair</code></a> and its\n      <code>privateKey.usages</code> attribute is empty.\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> You can <a href=\"https://mdn.github.io/dom-examples/web-crypto/encrypt-decrypt/index.html\" class=\"external\" rel=\" noopener\">try\nthe working examples</a> on GitHub.</p>\n</div>"}},{"type":"prose","value":{"id":"rsa_key_pair_generation","title":"RSA key pair generation","isH3":true,"content":"<p>This code generates an RSA-OAEP encryption key pair. <a href=\"https://github.com/mdn/dom-examples/blob/master/web-crypto/encrypt-decrypt/rsa-oaep.js\" class=\"external\" rel=\" noopener\">See\nthe complete code on GitHub.</a></p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> keyPair <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> window<span class=\"token punctuation\">.</span>crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">generateKey</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"RSA-OAEP\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">modulusLength</span><span class=\"token operator\">:</span> <span class=\"token number\">4096</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">publicExponent</span><span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">hash</span><span class=\"token operator\">:</span> <span class=\"token string\">\"SHA-256\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"encrypt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"decrypt\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"elliptic_curve_key_pair_generation","title":"Elliptic curve key pair generation","isH3":true,"content":"<p>This code generates an ECDSA signing key pair. <a href=\"https://github.com/mdn/dom-examples/blob/master/web-crypto/sign-verify/ecdsa.js\" class=\"external\" rel=\" noopener\">See\nthe complete code on GitHub.</a></p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> keyPair <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> window<span class=\"token punctuation\">.</span>crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">generateKey</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ECDSA\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">namedCurve</span><span class=\"token operator\">:</span> <span class=\"token string\">\"P-384\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"sign\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"verify\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"hmac_key_generation","title":"HMAC key generation","isH3":true,"content":"<p>This code generates an HMAC signing key. <a href=\"https://github.com/mdn/dom-examples/blob/master/web-crypto/sign-verify/hmac.js\" class=\"external\" rel=\" noopener\">See\nthe complete code on GitHub.</a></p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> key <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> window<span class=\"token punctuation\">.</span>crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">generateKey</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"HMAC\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">hash</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"SHA-512\"</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"sign\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"verify\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"aes_key_generation","title":"AES key generation","isH3":true,"content":"<p>This code generates an AES-GCM encryption key. <a href=\"https://github.com/mdn/dom-examples/blob/master/web-crypto/encrypt-decrypt/aes-gcm.js\" class=\"external\" rel=\" noopener\">See\nthe complete code on GitHub.</a></p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> key <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> window<span class=\"token punctuation\">.</span>crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">generateKey</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AES-GCM\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> <span class=\"token number\">256</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token string\">\"encrypt\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"decrypt\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webcrypto/#SubtleCrypto-method-generateKey","title":"Web Cryptography API"}],"query":"api.SubtleCrypto.generateKey"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.SubtleCrypto.generateKey","dataURL":"/en-US/docs/Web/API/SubtleCrypto/generateKey/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://www.keylength.com/\" class=\"external\" rel=\" noopener\">Cryptographic key length recommendations</a>.</li>\n  <li><a href=\"https://csrc.nist.gov/publications/detail/sp/800-131a/rev-1/final\" class=\"external\" rel=\" noopener\">NIST\ncryptographic algorithm and key length recommendations</a>.</li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"Use the generateKey() method of the\n  SubtleCrypto interface to generate a new key (for symmetric algorithms)\n  or key pair (for public-key algorithms).","popularity":0.0032,"modified":"2022-03-29T22:36:21.000Z","other_translations":[{"title":"SubtleCrypto.generateKey()","locale":"pt-BR","native":"Português (do Brasil)"}],"source":{"folder":"en-us/web/api/subtlecrypto/generatekey","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/subtlecrypto/generatekey/index.md","last_commit_url":"https://github.com/mdn/content/commit/4c6dbfb946b8e42f21576e4e5794dc4119539863","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/SubtleCrypto","title":"SubtleCrypto"},{"uri":"/en-US/docs/Web/API/SubtleCrypto/generateKey","title":"SubtleCrypto.generateKey()"}],"pageTitle":"SubtleCrypto.generateKey() - Web APIs | MDN","noIndexing":false}}